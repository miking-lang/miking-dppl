1/rgamma(10000, shape = 1, rate = 0.2)
1/rgamma(10000, shape = 1, rate = 0.2)
invgamma
rinvgamma
install.packages("invgamma")
df = data.frame("sigma2" = c(rinvgamma(10000, shape = 1, rate = 0.1)^2,
(1/rgamma(10000, shape = 1, rate = 0.2)),
(1/rgamma(10000, shape = 1, rate = 0.02)),
(1/rgamma(10000, shape = 3, rate = 0.2)),
(1/rgamma(10000, shape = 3, rate = 0.1)))
,
"distribution" = c(rep("Original (Odile)", 10000), rep("Concept", 10000),
rep("scale = 0.02", 10000),
rep("shape = 3.0; scale = 0.2", 10000),
rep("shape = 3.0; scale = 0.1", 10000)))
library(invgamma)
df = data.frame("sigma2" = c(rinvgamma(10000, shape = 1, rate = 0.1)^2,
(1/rgamma(10000, shape = 1, rate = 0.2)),
(1/rgamma(10000, shape = 1, rate = 0.02)),
(1/rgamma(10000, shape = 3, rate = 0.2)),
(1/rgamma(10000, shape = 3, rate = 0.1)))
,
"distribution" = c(rep("Original (Odile)", 10000), rep("Concept", 10000),
rep("scale = 0.02", 10000),
rep("shape = 3.0; scale = 0.2", 10000),
rep("shape = 3.0; scale = 0.1", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
library(ggplot2)
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
1/0.1
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
df = data.frame("sigma2" = c((1/rgamma(10000, shape = 1, rate = 0.1))^2,
(1/rgamma(10000, shape = 1, rate = 0.2)),
(1/rgamma(10000, shape = 1, rate = 0.02)),
(1/rgamma(10000, shape = 3, rate = 0.2)),
(1/rgamma(10000, shape = 3, rate = 0.1)))
,
"distribution" = c(rep("Original (Odile)", 10000), rep("Concept", 10000),
rep("scale = 0.02", 10000),
rep("shape = 3.0; scale = 0.2", 10000),
rep("shape = 3.0; scale = 0.1", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
df = data.frame("sigma2" = c((1/rgamma(10000, shape = 1, rate = 0.1))^2,
(1/rgamma(10000, shape = 1, rate = 0.2)),
(1/rgamma(10000, shape = 1, rate = 0.02)),
(1/rgamma(10000, shape = 3, rate = 0.2)),
(1/rgamma(10000, shape = 3, rate = 0.1)))
,
"distribution" = c(rep("Original (Odile)", 10000), rep("Concept", 10000),
rep("scale = 0.02", 10000),
rep("shape = 3.0; scale = 0.2", 10000),
rep("shape = 3.0; scale = 0.1", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
df = data.frame("sigma2" = c((1/rgamma(10000, shape = 1, scale = 0.1))^2,
(1/rgamma(10000, shape = 1, rate = 0.2)),
(1/rgamma(10000, shape = 1, rate = 0.02)),
(1/rgamma(10000, shape = 3, rate = 0.2)),
(1/rgamma(10000, shape = 3, rate = 0.1)))
,
"distribution" = c(rep("Original (Odile)", 10000), rep("Concept", 10000),
rep("scale = 0.02", 10000),
rep("shape = 3.0; scale = 0.2", 10000),
rep("shape = 3.0; scale = 0.1", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
df = data.frame("sigma2" = c((1/rgamma(10000, shape = 1, scale = 0.1))^2,
(1/rgamma(10000, shape = 1, rate = 0.2)),
(1/rgamma(10000, shape = 1, rate = 0.02)),
(1/rgamma(10000, shape = 3, rate = 0.2)),
(1/rgamma(10000, shape = 3, rate = 0.1)))
,
"distribution" = c(rep("Original (Odile)", 10000), rep("Concept", 10000),
rep("scale = 0.02", 10000),
rep("shape = 3.0; scale = 0.2", 10000),
rep("shape = 3.0; scale = 0.1", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
df = data.frame("sigma2" = c((1/rgamma(10000, shape = 1, scale = 0.1))^2,
(1/rgamma(10000, shape = 1, rate = 0.2)),
(1/rgamma(10000, shape = 1, rate = 0.02)),
(1/rgamma(10000, shape = 3, rate = 0.2)),
(1/rgamma(10000, shape = 3, rate = 0.1)))
,
"distribution" = c(rep("Original (Odile)", 10000), rep("Concept", 10000),
rep("scale = 0.02", 10000),
rep("shape = 3.0; scale = 0.2", 10000),
rep("shape = 3.0; scale = 0.1", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
df = data.frame("sigma2" = c((1/rgamma(10000, shape = 1, rate = 0.1))^2,
(1/rgamma(10000, shape = 1, rate = 0.2)),
(1/rgamma(10000, shape = 1, rate = 0.02)),
(1/rgamma(10000, shape = 3, rate = 0.2)),
(1/rgamma(10000, shape = 3, rate = 0.1)))
,
"distribution" = c(rep("Original (Odile)", 10000), rep("Concept", 10000),
rep("scale = 0.02", 10000),
rep("shape = 3.0; scale = 0.2", 10000),
rep("shape = 3.0; scale = 0.1", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
df = data.frame("sigma2" = c((1/rgamma(10000, shape = 1, scale = 0.1))^2,
(1/rgamma(10000, shape = 1, rate = 0.2)),
(1/rgamma(10000, shape = 1, rate = 0.02)),
(1/rgamma(10000, shape = 3, rate = 0.2)),
(1/rgamma(10000, shape = 3, rate = 0.1)))
,
"distribution" = c(rep("Original (Odile)", 10000), rep("Concept", 10000),
rep("scale = 0.02", 10000),
rep("shape = 3.0; scale = 0.2", 10000),
rep("shape = 3.0; scale = 0.1", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
df = data.frame("sigma2" = c(rinvgamma(10000, shape = 1, rate = 0.1)^2,
(1/rgamma(10000, shape = 1, rate = 0.2)),
(1/rgamma(10000, shape = 1, rate = 0.02)),
(1/rgamma(10000, shape = 3, rate = 0.2)),
(1/rgamma(10000, shape = 3, rate = 0.1)))
,
"distribution" = c(rep("Original (Odile)", 10000), rep("Concept", 10000),
rep("scale = 0.02", 10000),
rep("shape = 3.0; scale = 0.2", 10000),
rep("shape = 3.0; scale = 0.1", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
df = data.frame("sigma2" = c((1/rgamma(10000, shape = 1, rate = 0.1))^2,
(1/rgamma(10000, shape = 1, scale = 0.2)),
(1/rgamma(10000, shape = 1, rate = 0.02)),
(1/rgamma(10000, shape = 3, rate = 0.2)),
(1/rgamma(10000, shape = 3, rate = 0.1)))
,
"distribution" = c(rep("Original (Odile)", 10000), rep("Concept", 10000),
rep("scale = 0.02", 10000),
rep("shape = 3.0; scale = 0.2", 10000),
rep("shape = 3.0; scale = 0.1", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
df = data.frame("sigma2" = c((1/rgamma(10000, shape = 1, rate = 0.1))^2,
(1/rgamma(10000, shape = 1, scale = 0.2)),
(1/rgamma(10000, shape = 1, scale = 0.02)),
(1/rgamma(10000, shape = 3, scale = 0.2)),
(1/rgamma(10000, shape = 3, scale = 0.1)))
,
"distribution" = c(rep("Original (Odile)", 10000), rep("Concept", 10000),
rep("scale = 0.02", 10000),
rep("shape = 3.0; scale = 0.2", 10000),
rep("shape = 3.0; scale = 0.1", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
df = data.frame("sigma2" = c((1/rgamma(10000, shape = 1, rate = 0.1))^2,
(1/rgamma(10000, shape = 1, scale = 0.2)),
(1/rgamma(10000, shape = 1, rate = 0.02)),
(1/rgamma(10000, shape = 3, rate = 0.2)),
(1/rgamma(10000, shape = 3, rate = 0.1)))
,
"distribution" = c(rep("Original (Odile)", 10000), rep("Concept", 10000),
rep("scale = 0.02", 10000),
rep("shape = 3.0; scale = 0.2", 10000),
rep("shape = 3.0; scale = 0.1", 10000)))
df = data.frame("sigma2" = c(rinvgamma(10000, shape = 1, rate = 0.1)^2,
(1/rgamma(10000, shape = 1, rate = 0.2)),
(1/rgamma(10000, shape = 1, rate = 0.02)),
(1/rgamma(10000, shape = 3, rate = 0.2)),
(1/rgamma(10000, shape = 3, rate = 0.1)))
,
"distribution" = c(rep("Original (Odile)", 10000), rep("Concept", 10000),
rep("scale = 0.02", 10000),
rep("shape = 3.0; scale = 0.2", 10000),
rep("shape = 3.0; scale = 0.1", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
df = data.frame("sigma2" = c(rinvgamma(10000, shape = 1, rate = 0.1)^2,
(1/rgamma(10000, shape = 1, rate = 0.2)),
(1/rgamma(10000, shape = 1, rate = 0.02)),
(1/rgamma(10000, shape = 3, rate = 0.2)),
(1/rgamma(10000, shape = 3, rate = 0.1)))
,
"distribution" = c(rep("Original (Odile)", 10000), rep("Concept", 10000),
rep("scale = 0.02", 10000),
rep("shape = 3.0; _rate_ = 0.2", 10000),
rep("shape = 3.0; _rate_ = 0.1", 10000)))
df = data.frame("sigma2" = c((1/rgamma(10000, shape = 1, rate = 0.1))^2,
(rgamma(10000, shape = 1, rate = 0.2)),
(1/rgamma(10000, shape = 1, scale = 0.02)),
(1/rgamma(10000, shape = 3, scale = 0.2)),
(1/rgamma(10000, shape = 3, scale = 0.1)))
,
"distribution" = c(rep("Original (Odile)", 10000), rep("Concept", 10000),
rep("scale = 0.02", 10000),
rep("shape = 3.0; rate = 0.2", 10000),
rep("shape = 3.0; rate = 0.1", 10000)))
df = data.frame("sigma2" = c((1/rgamma(10000, shape = 1, rate = 0.1))^2,
(rgamma(10000, shape = 1, rate = 0.2)),
(rgamma(10000, shape = 1, rate = 0.02)),
(rgamma(10000, shape = 3, rate = 0.2)),
(rgamma(10000, shape = 3, rate = 0.1)))
,
"distribution" = c(rep("Original (Odile)", 10000), rep("Concept", 10000),
rep("scale = 0.02", 10000),
rep("shape = 3.0; rate = 0.2", 10000),
rep("shape = 3.0; rate = 0.1", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
df = data.frame("sigma2" = c((1/rgamma(10000, shape = 1, rate = 0.1))^2,
(rgamma(10000, shape = 1, rate = 0.2)),
(1/rgamma(10000, shape = 1, rate = 0.02)),
(1/rgamma(10000, shape = 3, rate = 0.2)),
(1/rgamma(10000, shape = 3, rate = 0.1)))
,
"distribution" = c(rep("Original (Odile)", 10000), rep("Concept", 10000),
rep("scale = 0.02", 10000),
rep("shape = 3.0; rate = 0.2", 10000),
rep("shape = 3.0; rate = 0.1", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
df = data.frame("sigma2" = c(rinvgamma(10000, shape = 1, rate = 0.1)^2,
(1/rgamma(10000, shape = 1, rate = 0.2)),
(1/rgamma(10000, shape = 1, rate = 0.02)),
(1/rgamma(10000, shape = 3, rate = 0.2)),
(1/rgamma(10000, shape = 3, rate = 0.1)))
,
"distribution" = c(rep("Original (Odile)", 10000), rep("Concept", 10000),
rep("scale = 0.02", 10000),
rep("shape = 3.0; _rate_ = 0.2", 10000),
rep("shape = 3.0; _rate_ = 0.1", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
df = data.frame("sigma2" = c(rinvgamma(10000, shape = 1, rate = 0.1)^2,
(1/rgamma(10000, shape = 1, rate = 0.2)),
(1/rgamma(10000, shape = 1, rate = 0.02)),
(1/rgamma(10000, shape = 3, rate = 0.2)),
(1/rgamma(10000, shape = 3, rate = 0.1)))
,
"distribution" = c(rep("Original (Odile)", 10000), rep("Concept", 10000),
rep("scale = 0.02", 10000),
rep("shape = 3.0; _rate_ = 0.2", 10000),
rep("shape = 3.0; _rate_ = 0.1", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
#df = data.frame("sigma2" = c(rinvgamma(10000, shape = 1, rate = 0.1)^2,
df = data.frame("sigma2" = c(1/rgamma(10000, shape = 1, scale = 0.1)^2,
(1/rgamma(10000, shape = 1, rate = 0.2)),
(1/rgamma(10000, shape = 1, rate = 0.02)),
(1/rgamma(10000, shape = 3, rate = 0.2)),
(1/rgamma(10000, shape = 3, rate = 0.1)))
,
"distribution" = c(rep("Original (Odile)", 10000), rep("Concept", 10000),
rep("scale = 0.02", 10000),
rep("shape = 3.0; _rate_ = 0.2", 10000),
rep("shape = 3.0; _rate_ = 0.1", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
df = data.frame("sigma2" = c(rinvgamma(10000, shape = 1, rate = 0.1)^2,
(1/rgamma(10000, shape = 1, scale = 1/0.2)),
(1/rgamma(10000, shape = 1, scale = 1/0.2)),
(1/rgamma(10000, shape = 1, scale = 1/0.02)),
(1/rgamma(10000, shape = 3, scale = 1/0.2)),
(1/rgamma(10000, shape = 3, scale = 1/0.1)))
,
"distribution" = c(rep("rinvgamma(10000, shape = 1, rate = 0.1)^2", 10000),
rep("(1/rgamma(10000, shape = 1, scale = 1/0.2))", 10000),
rep("(1/rgamma(10000, shape = 1, scale = 1/0.02)),", 10000),
rep("(1/rgamma(10000, shape = 3, scale = 1/0.2)),", 10000),
rep("(1/rgamma(10000, shape = 3, scale = 1/0.1)))", 10000)))
df = data.frame("sigma2" = c(rinvgamma(10000, shape = 1, rate = 0.1)^2,
(1/rgamma(10000, shape = 1, scale = 1/0.2)),
(1/rgamma(10000, shape = 1, scale = 1/0.2)),
(1/rgamma(10000, shape = 1, scale = 1/0.02)),
(1/rgamma(10000, shape = 3, scale = 1/0.2)),
(1/rgamma(10000, shape = 3, scale = 1/0.1)))
,
"distribution" = c(rep("rinvgamma(10000, shape = 1, rate = 0.1)^2", 10000),
rep("(1/rgamma(10000, shape = 1, scale = 1/0.2))", 10000),
rep("(1/rgamma(10000, shape = 1, scale = 1/0.02)),", 10000),
rep("(1/rgamma(10000, shape = 3, scale = 1/0.2)),", 10000),
rep("(1/rgamma(10000, shape = 3, scale = 1/0.1)))", 10000)))
df = data.frame("sigma2" = c(rinvgamma(10000, shape = 1, rate = 0.1)^2,
(1/rgamma(10000, shape = 1, scale = 1/0.2)),
(1/rgamma(10000, shape = 1, scale = 1/0.02)),
(1/rgamma(10000, shape = 3, scale = 1/0.2)),
(1/rgamma(10000, shape = 3, scale = 1/0.1)))
,
"distribution" = c(rep("rinvgamma(10000, shape = 1, rate = 0.1)^2", 10000),
rep("(1/rgamma(10000, shape = 1, scale = 1/0.2))", 10000),
rep("(1/rgamma(10000, shape = 1, scale = 1/0.02)),", 10000),
rep("(1/rgamma(10000, shape = 3, scale = 1/0.2)),", 10000),
rep("(1/rgamma(10000, shape = 3, scale = 1/0.1)))", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
df = data.frame("sigma2" = c(rinvgamma(10000, shape = 1, rate = 0.1)^2,
(1/rgamma(10000, shape = 1, scale = 1/0.2)),
(1/rgamma(10000, shape = 1, scale = 1/0.02)),
(1/rgamma(10000, shape = 3, scale = 1/0.2)),
(1/rgamma(10000, shape = 3, scale = 1/0.1)))
,
"distribution" = c(rep("odile rinvgamma(10000, shape = 1, rate = 0.1)^2", 10000),
rep("concept (1/rgamma(10000, shape = 1, scale = 1/0.2))", 10000),
rep("(1/rgamma(10000, shape = 1, scale = 1/0.02)),", 10000),
rep("(1/rgamma(10000, shape = 3, scale = 1/0.2)),", 10000),
rep("(1/rgamma(10000, shape = 3, scale = 1/0.1)))", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
df = data.frame("sigma2" = c(rinvgamma(10000, shape = 1, rate = 0.1)^2,
(1/rgamma(10000, shape = 1, rate = 1/0.1))^2,
(1/rgamma(10000, shape = 1, scale = 1/0.2)),
(1/rgamma(10000, shape = 1, scale = 1/0.02)),
(1/rgamma(10000, shape = 3, scale = 1/0.2)),
(1/rgamma(10000, shape = 3, scale = 1/0.1)))
,
"distribution" = c(rep("odile rinvgamma(10000, shape = 1, rate = 0.1)^2", 10000),
rep("odile 2", 10000),
rep("concept (1/rgamma(10000, shape = 1, scale = 1/0.2))", 10000),
rep("(1/rgamma(10000, shape = 1, scale = 1/0.02)),", 10000),
rep("(1/rgamma(10000, shape = 3, scale = 1/0.2)),", 10000),
rep("(1/rgamma(10000, shape = 3, scale = 1/0.1)))", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
df = data.frame("sigma2" = c(rinvgamma(10000, shape = 1, rate = 0.1)^2,
(1/rgamma(10000, shape = 1, rate = 1/0.1))^2,
(1/rgamma(10000, shape = 1, scale = 1/0.2)),
(1/rgamma(10000, shape = 1, scale = 1/0.02)),
(1/rgamma(10000, shape = 3, scale = 1/0.2)),
(1/rgamma(10000, shape = 3, scale = 1/0.1)))
,
"distribution" = c(rep("odile rinvgamma(10000, shape = 1, rate = 0.1)^2", 10000),
rep("odile 2", 10000),
rep("concept (1/rgamma(10000, shape = 1, scale = 1/0.2))", 10000),
rep("(1/rgamma(10000, shape = 1, scale = 1/0.02)),", 10000),
rep("(1/rgamma(10000, shape = 3, scale = 1/0.2)),", 10000),
rep("(1/rgamma(10000, shape = 3, scale = 1/0.1)))", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
df = data.frame("sigma2" = c(rinvgamma(10000, shape = 1, rate = 0.1)^2,
(1/rgamma(10000, shape = 1, rate = 1/0.1))^2,
(1/rgamma(10000, shape = 1, scale = 1/0.2)),
(1/rgamma(10000, shape = 1, scale = 1/0.02)),
(1/rgamma(10000, shape = 3, scale = 1/0.2)),
(1/rgamma(10000, shape = 3, scale = 1/0.1)))
,
"distribution" = c(rep("odile rinvgamma(10000, shape = 1, rate = 0.1)^2", 10000),
rep("odile 2", 10000),
rep("concept (1/rgamma(10000, shape = 1, scale = 1/0.2))", 10000),
rep("(1/rgamma(10000, shape = 1, scale = 1/0.02)),", 10000),
rep("(1/rgamma(10000, shape = 3, scale = 1/0.2)),", 10000),
rep("(1/rgamma(10000, shape = 3, scale = 1/0.1)))", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
df = data.frame("sigma2" = c(rinvgamma(10000, shape = 1, rate = 0.1)^2,
(1/rgamma(10000, shape = 1, rate = 1/0.1))^2,
(1/rgamma(10000, shape = 1, scale = 1/0.2)),
(1/rgamma(10000, shape = 1, scale = 1/0.02)),
(1/rgamma(10000, shape = 3, scale = 1/0.2)),
(1/rgamma(10000, shape = 3, scale = 1/0.1)))
,
"distribution" = c(rep("Odile with Library Function", 10000),
rep("odile with 1/rgamma", 10000),
rep("Concept: scale = 0.2", 10000),
rep("Scale = 0.02,", 10000),
rep("Shape = 3, Scale = 0.2,", 10000),
rep("Shape = 3, Scale = 0.1)))", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
df = data.frame("sigma2" = c(rinvgamma(10000, shape = 1, rate = 0.1)^2,
(1/rgamma(10000, shape = 1, rate = 1/0.1))^2,
(1/rgamma(10000, shape = 1, scale = 1/0.2)),
(1/rgamma(10000, shape = 1, scale = 1/0.02)),
(1/rgamma(10000, shape = 3, scale = 1/0.2)),
(1/rgamma(10000, shape = 3, scale = 1/0.1)))
,
"distribution" = c(rep("Odile with Library Function", 10000),
rep("odile with 1/rgamma", 10000),
rep("Concept: scale = 0.2", 10000),
rep("Scale = 0.02,", 10000),
rep("Shape = 3, Scale = 0.2,", 10000),
rep("Shape = 3, Scale = 0.1", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
rinvgamma()
rinvgamma
c(rinvgamma(10000, shape = 1, rate = 0.1)^2
rinvgamma(10000, shape = 1, rate = 0.1)^2
df = data.frame("sigma2" = c(rinvgamma(10000, shape = 1, rate = 0.1)^2,
(1/rgamma(10000, shape = 1, rate = 1/0.1))^2,
(1/rgamma(10000, shape = 1, scale = 1/0.2)),
(1/rgamma(10000, shape = 1, scale = 1/0.02)),
(1/rgamma(10000, shape = 3, scale = 1/0.2)),
(1/rgamma(10000, shape = 3, scale = 1/0.1)))
,
"distribution" = c(rep("Odile with Library Function", 10000),
rep("odile with 1/rgamma", 10000),
rep("Concept: scale = 0.2", 10000),
rep("Scale = 0.02,", 10000),
rep("Shape = 3, Scale = 0.2,", 10000),
rep("Shape = 3, Scale = 0.1", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
df = data.frame("sigma2" = c(rinvgamma(10000, shape = 1, rate = 0.1)^2,
(1/rgamma(10000, shape = 1, rate = 1/0.1))^2,
(1/rgamma(10000, shape = 1, scale = 1/0.2)),
(1/rgamma(10000, shape = 1, scale = 1/0.02)),
(1/rgamma(10000, shape = 3, scale = 1/0.2)),
(1/rgamma(10000, shape = 3, scale = 1/0.1)))
,
"distribution" = c(rep("Odile with Library Function", 10000),
rep("Odile with 1/rgamma", 10000),
rep("Concept: scale = 0.2", 10000),
rep("Scale = 0.02,", 10000),
rep("Shape = 3, Scale = 0.2,", 10000),
rep("Shape = 3, Scale = 0.1", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
df = data.frame("sigma2" = c(rinvgamma(10000, shape = 1, rate = 0.1)^2,
(1/rgamma(10000, shape = 1, rate = 1/0.1))^2,
(1/rgamma(10000, shape = 1, scale = 1/0.2)),
(1/rgamma(10000, shape = 1, scale = 1/0.02)),
(1/rgamma(10000, shape = 3, scale = 1/0.2)),
(1/rgamma(10000, shape = 3, scale = 1/0.1)))        ,
"distribution" = c(rep("Odile with Library Function", 10000),
rep("Odile with 1/rgamma", 10000),
rep("Concept: scale = 0.2", 10000),
rep("Scale = 0.02,", 10000),
rep("Shape = 3, Scale = 0.2,", 10000),
rep("Shape = 3, Scale = 0.1", 10000)))
View(df)
View(df)
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
(1/rgamma(10000, shape = 1, rate = 1/0.1))^2
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,5))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,2))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1.5))
df = data.frame("sigma2" = c(rinvgamma(10000, shape = 1, rate = 0.1)^2,
(1/rgamma(10000, shape = 1, scale = 0.1))^2,
(1/rgamma(10000, shape = 1, scale = 1/0.2)),
(1/rgamma(10000, shape = 1, scale = 1/0.02)),
(1/rgamma(10000, shape = 3, scale = 1/0.2)),
(1/rgamma(10000, shape = 3, scale = 1/0.1))) ,
"distribution" = c(rep("Odile with Library Function", 10000),
rep("Odile with 1/rgamma", 10000),
rep("Concept: scale = 0.2", 10000),
rep("Scale = 0.02,", 10000),
rep("Shape = 3, Scale = 0.2,", 10000),
rep("Shape = 3, Scale = 0.1", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1.5))
df = data.frame("sigma2" = c(rinvgamma(10000, shape = 1, rate = 0.1)^2,
(1/rgamma(10000, shape = 1, scale = 0.1))^2,
(1/rgamma(10000, shape = 1, scale = 1/0.2)),
(1/rgamma(10000, shape = 1, scale = 1/0.02)),
(1/rgamma(10000, shape = 3, scale = 1/2)),
(1/rgamma(10000, shape = 3, scale = 1/0.1))) ,
"distribution" = c(rep("Odile with Library Function", 10000),
rep("Odile with 1/rgamma", 10000),
rep("Concept: scale = 0.2", 10000),
rep("Scale = 0.02,", 10000),
rep("Shape = 3, Scale = 0.2,", 10000),
rep("Shape = 3, Scale = 0.1", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1.5))
df = data.frame("sigma2" = c(rinvgamma(10000, shape = 1, rate = 0.1)^2,
(1/rgamma(10000, shape = 1, scale = 0.1))^2,
(1/rgamma(10000, shape = 1, scale = 1/0.2)),
(1/rgamma(10000, shape = 1, scale = 1/0.02)),
(1/rgamma(10000, shape = 3, scale = 1/2)),
(1/rgamma(10000, shape = 3, scale = 1/0.1))) ,
"distribution" = c(rep("Odile with Library Function", 10000),
rep("Odile with 1/rgamma", 10000),
rep("Concept: scale = 0.2", 10000),
rep("Scale = 0.02,", 10000),
rep("Shape = 3, Scale = 0.2,", 10000),
rep("Shape = 3, Scale = 0.1", 10000)))
ggplot(df, aes(x=sigma2, color =distribution)) + geom_density(size = 1.0) + xlim(c(0,1.5))
setwd("C:/Users/vsend/Dropbox/Work/miking-dppl/rootppl")
options(warn=-1)
renormalize_weights = function(test_file, dir = "test-data//", numparts) {
logz = as.numeric(strsplit(sub("\\]", "", sub("\\[", "", readLines(paste0(dir, test_file, ".logz")))), ",")[[1]])
test = read.csv(paste0(dir, test_file, ".csv"), header = FALSE)
test$logz = unlist(lapply(logz, function(l) {rep(l, numparts)}))
test[[2]] = test[[2]] * exp(test$logz)
test[[2]] = test[[2]] / sum(test[[2]])
write.table(test, paste0(dir, test_file, ".csv"),
sep = ",", quote = FALSE, row.names = FALSE,
col.names = FALSE)
}
renormalize_log_weights_stable = function(test_file, dir = "test-data//", subsample_size = 5) {
logz = as.numeric(strsplit(sub("\\]", "", sub("\\[", "", readLines(paste0(dir, test_file, ".logz")))), ",")[[1]])
test = read.csv(paste0(dir, test_file, ".csv"), header = FALSE)
test$logz = unlist(lapply(logz, function(l) {rep(l, subsample_size)}))
#  test[[2]] = test[[2]] * exp(test$logz)
#  test[[2]] = test[[2]] / sum(test[[2]])
logweightlogz = test[[2]] + test$logz
unnormalized_weight = exp(logweightlogz - max(logweightlogz))
test[[2]] = unnormalized_weight/sum(unnormalized_weight)
write.table(test, paste0(dir, test_file, ".csv"),
sep = ",", quote = FALSE, row.names = FALSE,
col.names = FALSE)
}
do_test = function(left, right, size = 35, dir = "test-data//") {
leftf = read.csv(paste0(dir, left, ".csv"))
rightf = read.csv(paste0(dir, right, ".csv"))
sample_left = sample(leftf[[1]], size = size, prob = leftf[[2]])
sample_right = sample(rightf[[1]], size = size, prob = rightf[[2]])
test_result = ks.test(sample_left, sample_right)
if (test_result$p.value > 0.01) {
cat(paste("PASS:", left, "<->", right,  "p:", test_result$p.value, "\n"))
} else {
cat(paste("FAIL:", left, "<->", right,  "p:", test_result$p.value, "\n"))
}
}
do_test_logz = function(left, right, dir = "test-data//") {
leftz = as.numeric(strsplit(sub("\\]", "", sub("\\[", "", readLines(paste0(dir, left, ".logz")))), ",")[[1]])
rightz = as.numeric(strsplit(sub("\\]", "", sub("\\[", "", readLines(paste0(dir, right, ".logz")))), ",")[[1]])
test_result = t.test(leftz, rightz)
if (test_result$p.value > 0.01) {
cat(paste("PASS:", "log Z", left, "<->", right,  "p:", test_result$p.value, "\n"))
} else {
cat(paste("FAIL:", "log Z", left, "<->", right,  "p:", test_result$p.value, "\n"))
}
}
args <- commandArgs(trailingOnly = TRUE)
args[[1]] = 10000
renormalize_weights(test_file = "testWaitingTime", numparts = args[[1]])
renormalize_weights(test_file = "testWaitingTime", numparts = args[[1]])
renormalize_weights(test_file = "testWaitingTimeDelayed", numparts = args[[1]])
setwd("C:/Users/vsend/Dropbox/Work/miking-dppl/rootppl/tests")
do_test(left= "testWaitingTime", right = "testWaitingTimeDelayed", size = 1000)
source("test_functions.R")
options(warn=-1)
args <- commandArgs(trailingOnly = TRUE)
renormalize_weights_stable(test_file = "testWaitingTime", subsample_size = 10000)
renormalize_log_weights_stable(test_file = "testWaitingTime", subsample_size = 10000)
renormalize_log_weights(test_file = "testWaitingTimeDelayed", subsample_size = 10000)
renormalize_log_weights_stable(test_file = "testWaitingTimeDelayed", subsample_size = 10000)
do_test(left= "testWaitingTime", right = "testWaitingTimeDelayed", size = 1000)
source("test_functions.R")
options(warn=-1)
args <- commandArgs(trailingOnly = TRUE)
